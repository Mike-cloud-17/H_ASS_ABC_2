# H_ASS_ABC_2
Шкляр Михаил, ДЗ №2 по Архитектуре вычислительных систем, Вариант №8
## Программа для изменения элементов исходного массива
Условие:

![Image alt](./ArrTask.png)

Здесь описаны входные данные, необходимые для работы программы:

![Image alt](./Arr1.png)

Далее, собственно, начало секции с кодом:

![Image alt](./Arr2.png)

С помощью функций HeapCreate,HEAP_NO_SERIALIZE,HeapAlloc
мы сначала создаем heap API объект, запасаем некторое количество памяти в куче,
а именно N * 8 объектов, где N - длина первоначального массива.
В регистре eax будет адрес 1 зарезервированного элемента, который мы записываем
оттуда в [mas].
Заранее хотелось бы выделить 2 элемента: dword [eax] и cinvoke.
cinvoke - отличная альтернатива call, которая не трогает стек. 
Иногда нужно знать значение ячейки массива, например при погрузке в стек.
Как раз для этого и будем использовать dword [eax].
Мой код разделен на процедуры, поэтому далее буду описывать по ним.

В loop2 я считываю вводимые пользователем элементы в массив. Все циклы будут осуществляться с помощью
команды cmp и команды перехода jne: 

![Image alt](./Arr3.png)

В loop3 + loop3cont я осуществляю "красивый" вывод массива в консоль:

![Image alt](./Arr4.png)

В loop4 происходит главное действие. 
Сначала я получаю значения ячеек массива, записываю их в ebx, а потом
проверяю на условия получения нового массива (B) с помощью команд переходов 
jg, jl и jne. Далее меняю значение регистра ebx по ситуации:

![Image alt](./Arr5.png)

В loop5 вывожу измененный массив на экран:

![Image alt](./Arr6.png)

Далее идут подключенные библиотеки:

![Image alt](./Arr7.png)

Теперь приведу примеры результата работы программы:

![Image alt](./ArrTest1.png)
![Image alt](./ArrTest2.png)

## Источники
1) http://www.nestor.minsk.by/kg/2008/34/kg83402.html (простые массивы)
2) http://www.nestor.minsk.by/kg/2008/38/kg83805.html (динамические массивы)
3) https://blic.fandom.com/ru/wiki/Краткий_перечень_команд_ассемблера (команды)
